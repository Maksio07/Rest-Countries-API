import{i as ee,r as w,a as te,S as ne,H as se,v as V,s as ae,c as ie,m as re,b as oe,d as le,e as ce,f as ue,g as _,h as fe,j as me,p as de,k as pe,l as q,n as xe,G as z,u as P,o as he,D as ge,I as $,q as i,t as ye,L as je,C as U}from"./index-CF1mOj4c.js";function J(e,t,n){var s;if(typeof e=="string"){let a=document;t&&(ee(!!t.current),a=t.current),n?((s=n[e])!==null&&s!==void 0||(n[e]=a.querySelectorAll(e)),e=n[e]):e=a.querySelectorAll(e)}else e instanceof Element&&(e=[e]);return Array.from(e||[])}function ve(e){return w.useEffect(()=>()=>e(),[])}function Ne(e){return typeof e=="object"&&!Array.isArray(e)}function Ae(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=te(e)?new ne(t):new se(t);n.mount(e),V.set(e,n)}function Ee(e,t=100){const n=ae({keyframes:[0,t],...e}),s=Math.min(ie(n),re);return{type:"keyframes",ease:a=>n.next(s*a).value/t,duration:oe(s)}}function B(e,t,n,s){var a;return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(a=s.get(t))!==null&&a!==void 0?a:e}const Ce=(e,t,n)=>{const s=t-e;return((n-e)%s+s)%s+e};function Se(e,t){return le(e)?e[Ce(0,e.length,t)]:e}function be(e,t,n){for(let s=0;s<e.length;s++){const a=e[s];a.at>t&&a.at<n&&(ue(e,a),s--)}}function we(e,t,n,s,a,r){be(e,a,r);for(let o=0;o<t.length;o++)e.push({value:t[o],at:ce(a,r,s[o]),easing:Se(n,o)})}function De(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Me="easeInOut";function Ve(e,{defaultTransition:t={},...n}={},s){const a=t.duration||.3,r=new Map,o=new Map,f={},l=new Map;let j=0,c=0,D=0;for(let A=0;A<e.length;A++){const p=e[A];if(typeof p=="string"){l.set(p,c);continue}else if(!Array.isArray(p)){l.set(p.name,B(c,p.at,j,l));continue}let[N,x,m={}]=p;m.at!==void 0&&(c=B(c,m.at,j,l));let d=0;const E=(h,g,v,S=0,b=0)=>{const u=Te(h),{delay:M=0,times:C=fe(u),type:X="keyframes",...Y}=g;let{ease:T=t.ease||"easeOut",duration:y}=g;const F=typeof M=="function"?M(S,b):M,I=u.length;if(I<=2&&X==="spring"){let K=100;if(I===2&&ke(u)){const Z=u[1]-u[0];K=Math.abs(Z)}const O={...Y};y!==void 0&&(O.duration=pe(y));const H=Ee(O,K);T=H.ease,y=H.duration}y??(y=a);const k=c+F,G=k+y;C.length===1&&C[0]===0&&(C[1]=1);const L=C.length-u.length;L>0&&me(C,L),u.length===1&&u.unshift(null),we(v,u,T,C,k,G),d=Math.max(F+y,d),D=Math.max(G,D)};if(_(N)){const h=R(N,o);E(x,m,W("default",h))}else{const h=J(N,s,f),g=h.length;for(let v=0;v<g;v++){x=x,m=m;const S=h[v],b=R(S,o);for(const u in x)E(x[u],Fe(m,u),W(u,b),v,g)}}j=c,c+=d}return o.forEach((A,p)=>{for(const N in A){const x=A[N];x.sort(De);const m=[],d=[],E=[];for(let g=0;g<x.length;g++){const{at:v,value:S,easing:b}=x[g];m.push(S),d.push(de(0,D,v)),E.push(b||"easeOut")}d[0]!==0&&(d.unshift(0),m.unshift(m[0]),E.unshift(Me)),d[d.length-1]!==1&&(d.push(1),m.push(null)),r.has(p)||r.set(p,{keyframes:{},transition:{}});const h=r.get(p);h.keyframes[N]=m,h.transition[N]={...t,duration:D,ease:E,times:d,...n}}}),r}function R(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function W(e,t){return t[e]||(t[e]=[]),t[e]}function Te(e){return Array.isArray(e)?e:[e]}function Fe(e,t){return e[t]?{...e,...e[t]}:{...e}}const Ie=e=>typeof e=="number",ke=e=>e.every(Ie);function Q(e,t,n,s){const a=J(e,s),r=a.length,o=[];for(let f=0;f<r;f++){const l=a[f];V.has(l)||Ae(l);const j=V.get(l),c={...n};typeof c.delay=="function"&&(c.delay=c.delay(f,r)),o.push(...xe(j,{...t,transition:c},{}))}return new z(o)}const Ge=e=>Array.isArray(e)&&Array.isArray(e[0]);function Le(e,t,n){const s=[];return Ve(e,t,n).forEach(({keyframes:r,transition:o},f)=>{let l;_(f)?l=q(f,r.default,o.default):l=Q(f,r,o),s.push(l)}),new z(s)}const Ke=e=>{function t(n,s,a){let r;return Ge(n)?r=Le(n,s,e):Ne(s)?r=Q(n,s,a,e):r=q(n,s,a),e&&e.animations.push(r),r}return t};function Oe(){const e=P(()=>({current:null,animations:[]})),t=P(()=>Ke(e));return ve(()=>{e.animations.forEach(n=>n.stop())}),[e,t]}function He(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function Pe(e=.1,{startDelay:t=0,from:n=0,ease:s}={}){return(a,r)=>{const o=typeof n=="number"?n:He(n,r),f=Math.abs(o-a);let l=e*f;if(s){const j=r*e;l=he(s)(l/j)*j}return t+l}}function Ue(){w.useContext(ge);const e=w.useContext($);return i.jsxs("form",{className:"search-box flex justify-between my-[4rem] w-full",children:[i.jsx("input",{type:"text",placeholder:"Search for a country...",className:"search-input py-2 pr-3 pl-[3.6rem] w-[32rem] bg-[--elements] text-[1.4rem] text-[--text] shadow-md rounded-[.6rem]",onChange:e.displayMatches}),i.jsxs("select",{name:"countries",id:"countries-select",className:"countries-select py-3 px-10 text-[1.2rem] shadow-md rounded-[.6rem] cursor-pointer bg-[--elements] text-[--text]",onClick:e.filterCountries,children:[i.jsx("option",{value:"",className:"input-field-option",children:"Filter by region"}),i.jsx("option",{value:"africa",className:"input-field-option",children:"Africa"}),i.jsx("option",{value:"america",className:"input-field-option",children:"America"}),i.jsx("option",{value:"asia",className:"input-field-option",children:"Asia"}),i.jsx("option",{value:"europe",className:"input-field-option",children:"Europe"}),i.jsx("option",{value:"oceania",className:"input-field-option",children:"Oceania"})]})]})}function Be(){const e=w.useContext($);let t=U;const[n,s]=Oe();return w.useEffect(()=>{e.searchedCountries!==void 0&&e.searchedCountries.length===0||s("li",{opacity:1},{delay:Pe(.1)})}),e.searchedCountries!==void 0?t=e.searchedCountries:e.filterUsed===!0&&e.searchedCountries===void 0?t=e.filteredCountries:e.filterUsed===!1&&e.searchedCountries===void 0&&(t=U),i.jsx("section",{children:i.jsxs("ul",{ref:n,className:"countries-section grid grid-cols-4 gap-20",children:[e.searchedCountries!==void 0&&e.searchedCountries.length===0?i.jsx("p",{className:"error-message w-[96vw] mt-[4rem] ml-[-4rem] mr-[-4rem] text-center text-3xl text-[--text]",children:"Typed text does not matches to countries names, please try again."}):"",t.map(a=>i.jsx(ye.li,{initial:{opacity:0},className:"country-box flex flex-col bg-[--elements] text-[--text] shadow-sm rounded-md cursor-pointer transition-transform .3s",children:i.jsxs(je,{to:`/${a.name}`,children:[i.jsx("img",{src:a.flags.png,alt:"A flag of "+a.name,className:"countries-flag w-full h-[22rem] rounded-t-md"}),i.jsxs("div",{className:"flex flex-col my-[1rem] ml-[4rem]",children:[i.jsx("h2",{className:"my-4 text-[1.6rem] font-[600]",children:a.name}),i.jsxs("p",{className:"flex mt-1 text-[1.2rem]",children:[i.jsx("span",{className:"pr-[.4rem] font-[600] text-[--color]",children:"Population:"}),i.jsx("span",{className:"text-[--information-color]",children:a.population})]}),i.jsxs("p",{className:"flex mt-1 text-[1.2rem]",children:[i.jsx("span",{className:"pr-[.4rem] font-[600] text-[--color]",children:"Region:"}),i.jsx("span",{className:"text-[--information-color]",children:a.region})]}),i.jsxs("p",{className:"flex mt-1 text-[1.2rem]",children:[i.jsx("span",{className:"pr-[.4rem] font-[600] text-[--color]",children:"Capital:"}),i.jsx("span",{className:"text-[--information-color]",children:a.capital})]})]})]})},a.name))]})})}function We(){return i.jsxs("main",{className:"main flex flex-col mx-[4rem]",children:[i.jsx(Ue,{}),i.jsx(Be,{})]})}export{We as default};
